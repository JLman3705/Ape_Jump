<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Ape Jump</title>
<style>body,html{margin:0;padding:0;background:#000;color:#fff;font-family:sans-serif;height:100%}body{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}canvas{background:#000;width:100%;max-width:100%;height:auto;touch-action:manipulation}#restartBtn{display:none;padding:10px 20px;font-size:18px;margin:10px;background:#00d4ff;color:#000;border:none;border-radius:20px;cursor:pointer;z-index:2}h2{font-size:1.2em;margin:12px 0 6px}.coffee{margin-bottom:12px}</style>
</head>
<body>
<h2>Spikes jumped: <span id=score>0</span></h2>
<div class=coffee style=margin-top:10px>
<a href=https://www.buymeacoffee.com/jlman3705 target=_blank>
<img src=https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png alt="Buy Me A Coffee" height=45 style=border-radius:20px>
</a>
</div>
<canvas id=gameCanvas></canvas>
<button id=restartBtn onclick=restartGame()>Restart</button>
<img id=monkey1 src=Run1.png style=display:none>
<img id=monkey2 src=Run2.png style=display:none>
<img id=palmTree src=Palm_Tree.png style=display:none>
<img id=cloud1 src=Cloud1.png style=display:none>
<img id=cloud2 src=Cloud2.png style=display:none>
<img id=planeBanner src=PlaneBanner.png style=display:none>
<audio id=bounceSound src=Jump.mp3 preload=auto></audio>
<audio id=bgMusic src=Music.mp3 preload=auto loop></audio>
<script>const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),bounceSound=document.getElementById("bounceSound"),bgMusic=document.getElementById("bgMusic"),monkey1=document.getElementById("monkey1"),monkey2=document.getElementById("monkey2"),palmTree=document.getElementById("palmTree"),cloud1=document.getElementById("cloud1"),cloud2=document.getElementById("cloud2"),planeBanner=document.getElementById("planeBanner");function resizeCanvas(){const e=Math.min(window.innerWidth,960);canvas.width=e,canvas.height=e*(9/16)}resizeCanvas(),window.addEventListener("resize",resizeCanvas);let monkey,gravity=.5,jumpStrength=-11,spikeSpeed=2,score=0,isGameOver=!1,frameCounter=0,spikes=[],trees=[],clouds=[],plane=null,lastPlaneSpawn=0;function resetGame(){const e=canvas.height-10;monkey={x:40,y:e-32,width:32,height:36,dy:0,onGround:!0},score=0,isGameOver=!1,spikes=[],trees=[],clouds=[],plane=null,lastPlaneSpawn=performance.now(),document.getElementById("score").innerText=score,document.getElementById("restartBtn").style.display="none",bgMusic.currentTime=0,requestAnimationFrame(update)}function spawnSpikeAt(e){const n=canvas.height-30;spikes.push({x:e,y:n,width:20,height:20,passed:!1})}function spawnMoreSpikes(){let e=spikes.length?Math.max(...spikes.map((e=>e.x))):canvas.width;for(;e<canvas.width+600;)e+=200*Math.random()+100,spawnSpikeAt(e)}function maybeSpawnPalmTree(){if(Math.random()<.01){const e=140,n=116;trees.push({x:canvas.width+50,y:canvas.height-e+2,width:n,height:e})}}function maybeSpawnCloud(){if(Math.random()<.02){const e=Math.random()<.5?cloud1:cloud2,n=100+40*Math.random(),t=n*(e.naturalHeight/e.naturalWidth),a=Math.random()*(canvas.height/3);clouds.push({x:canvas.width+20,y:a,width:n,height:t,image:e})}}function maybeSpawnPlane(e){if(!plane&&e-lastPlaneSpawn>6e3){const e=300,n=e*(planeBanner.naturalHeight/planeBanner.naturalWidth),t=10;plane={x:canvas.width,y:t,width:e,height:n}}}function drawPlane(){plane&&(plane.x-=spikeSpeed+.5,ctx.drawImage(planeBanner,plane.x,plane.y,plane.width,plane.height),plane.x+plane.width<0&&(plane=null,lastPlaneSpawn=performance.now()))}function drawClouds(){clouds.forEach((e=>{ctx.drawImage(e.image,e.x,e.y,e.width,e.height)}))}function drawPalmTrees(){trees.forEach((e=>{ctx.drawImage(palmTree,e.x,e.y,e.width,e.height)}))}function drawMonkey(){const e=Math.floor(frameCounter/10)%2==0?monkey1:monkey2;ctx.drawImage(e,monkey.x,monkey.y+4,monkey.width,monkey.height),frameCounter++}function drawFloor(){const e=canvas.height-10;ctx.strokeStyle="#228B22",ctx.lineWidth=2,ctx.beginPath(),ctx.moveTo(0,e),ctx.lineTo(canvas.width,e),ctx.stroke()}function drawSpikes(){ctx.fillStyle="#ff4444",spikes.forEach((e=>{ctx.beginPath(),ctx.moveTo(e.x,e.y+e.height),ctx.lineTo(e.x+e.width/2,e.y),ctx.lineTo(e.x+e.width,e.y+e.height),ctx.closePath(),ctx.fill()}))}function checkCollision(){return spikes.some((e=>monkey.x+monkey.width>e.x&&monkey.x<e.x+e.width&&monkey.y+monkey.height>e.y))}function update(e){if(isGameOver)return;ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="#87ceeb",ctx.fillRect(0,40,canvas.width,canvas.height-50),clouds.forEach((e=>e.x-=spikeSpeed)),clouds=clouds.filter((e=>e.x+e.width>0)),maybeSpawnCloud(),drawClouds(),trees.forEach((e=>e.x-=spikeSpeed)),trees=trees.filter((e=>e.x+e.width>0)),maybeSpawnPalmTree(),drawPalmTrees(),maybeSpawnPlane(e),drawPlane(),monkey.dy+=gravity,monkey.y+=monkey.dy;const n=canvas.height-10;if(monkey.y+monkey.height>=n&&(monkey.y=n-monkey.height,monkey.dy=0,monkey.onGround=!0),spikes.forEach((e=>{e.x-=spikeSpeed,!e.passed&&e.x+e.width<monkey.x&&(e.passed=!0,document.getElementById("score").innerText=++score)})),spikes=spikes.filter((e=>e.x+e.width>-50)),spawnMoreSpikes(),drawFloor(),drawMonkey(),drawSpikes(),checkCollision())return isGameOver=!0,document.getElementById("restartBtn").style.display="inline-block",void bgMusic.pause();requestAnimationFrame(update)}function jump(){!isGameOver&&monkey.onGround&&(monkey.dy=jumpStrength,monkey.onGround=!1,bounceSound.currentTime=0,bounceSound.play())}function isClickInsideButton(e){return e.closest("button")||e.closest("a")}function restartGame(){resetGame()}canvas.addEventListener("click",jump),document.body.addEventListener("touchstart",(e=>{isClickInsideButton(e.target)||jump()}),{passive:!0}),window.addEventListener("click",(()=>{bgMusic.paused&&!isGameOver&&bgMusic.play().catch((()=>{}))}),{once:!0}),resetGame()</script>
</body>
</html>
