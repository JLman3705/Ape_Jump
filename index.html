<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Ape Jump</title>
<link rel=icon type=image/png href=favicon.png>
<style>body,html{margin:0;padding:0;background:#000;color:#fff;font-family:sans-serif;height:100%}body{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}canvas{background:#000;width:100%;max-width:100%;height:auto;touch-action:manipulation}#restartBtn{display:none;padding:10px 20px;font-size:18px;margin:10px;background:#00d4ff;color:#000;border:none;border-radius:20px;cursor:pointer;z-index:2}#playCount{position:absolute;left:12px;bottom:12px;font-size:12px;color:#ccc;font-family:monospace}</style>
</head>
<body><h2>Spikes jumped: <span id=score>0</span></h2>
<canvas id=gameCanvas></canvas>
<canvas id=hitCanvas width=32 height=36 style=display:none></canvas>
<button id=restartBtn onclick=restartGame()>Restart</button>
<div id=playCount>Plays: <span id=counter>...</span></div><img id=monkey1 src=Run1.png style=display:none>
<img id=monkey2 src=Run2.png style=display:none>
<img id=palmTree src=Palm_Tree.png style=display:none>
<img id=cloud1 src=Cloud1.png style=display:none>
<img id=cloud2 src=Cloud2.png style=display:none>
<img id=planeBanner src=PlaneBanner.png style=display:none>
<audio id=bounceSound src=Jump.mp3 preload=auto></audio>
<audio id=bgMusic src=Music.mp3 preload=auto loop></audio><script>const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),hitCtx=document.getElementById("hitCanvas").getContext("2d"),bounceSound=document.getElementById("bounceSound"),bgMusic=document.getElementById("bgMusic"),monkey1=document.getElementById("monkey1"),monkey2=document.getElementById("monkey2"),palmTree=document.getElementById("palmTree"),cloud1=document.getElementById("cloud1"),cloud2=document.getElementById("cloud2"),planeBanner=document.getElementById("planeBanner");function resizeCanvas(){const e=Math.min(window.innerWidth,960);canvas.width=e,canvas.height=e*(9/16)}resizeCanvas(),window.addEventListener("resize",resizeCanvas);let monkey,gravity=.5,jumpStrength=-11,spikeSpeed=2,score=0,isGameOver=!1,frameCounter=0,spikes=[],trees=[],clouds=[],plane=null,lastPlaneSpawn=0;function resetGame(){const e=canvas.height-10;monkey={x:40,y:e-32,width:32,height:36,dy:0,onGround:!0},score=0,isGameOver=!1,spikes=[],trees=[],clouds=[],plane=null,lastPlaneSpawn=performance.now(),document.getElementById("score").innerText=score,document.getElementById("restartBtn").style.display="none",bgMusic.currentTime=0,requestAnimationFrame(update)}function checkCollision(){for(const e of spikes){const t=Math.max(monkey.x,e.x),n=Math.max(monkey.y,e.y),o=Math.min(monkey.x+monkey.width,e.x+e.width)-t,i=Math.min(monkey.y+monkey.height,e.y+e.height)-n;if(o<=0||i<=0)continue;hitCtx.clearRect(0,0,monkey.width,monkey.height),hitCtx.drawImage(monkey1,0,0,monkey.width,monkey.height);const a=hitCtx.getImageData(t-monkey.x,n-monkey.y,o,i).data;hitCtx.clearRect(0,0,monkey.width,monkey.height),hitCtx.fillStyle="#ff4444",hitCtx.beginPath(),hitCtx.moveTo(e.x-t,e.y-n+e.height),hitCtx.lineTo(e.x-t+e.width/2,e.y-n),hitCtx.lineTo(e.x-t+e.width,e.y-n+e.height),hitCtx.closePath(),hitCtx.fill();const m=hitCtx.getImageData(0,0,o,i).data;for(let e=3;e<a.length;e+=4)if(a[e]>0&&m[e]>0)return!0}return!1}</script></body>
</html>
